package com.datical.hammer.core.forecast


import com.datical.hammer.core.rules.GeneratedSQL;
import com.datical.hammer.core.rules.Response;
import com.datical.hammer.core.rules.Response.ResponseType;
import org.apache.commons.lang.StringUtils;
import java.util.List;
import java.util.ArrayList;
import com.valic.util.OracleCodeUtilities ;

global OracleCodeUtilities orclUtils ;

dialect "mvel" ;


rule "Generated SQL should not contain Select * "
	salience 997
	when
	      
		 genSQL : GeneratedSQL  ( orclUtils.sTripOracleComments( genSQL.outputSQL ) contains " select * " ) ;
	then
		String errorMessage = "The generated SQL contains Wild Select Statement 'Select *'";
		insert(new Response(ResponseType.FAIL, errorMessage, drools.getRule().getName()));
	end
   